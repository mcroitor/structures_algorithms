# Сортировка Шелла

__Сортировка Шелла__ (англ. _Shell sort_) — алгоритм сортировки, являющийся усовершенствованным вариантом сортировки вставками. Идея метода Шелла состоит в сравнении элементов, стоящих не только рядом, но и на определённом расстоянии друг от друга. Иными словами — это сортировка вставками с предварительными "грубыми" проходами. Аналогичный метод усовершенствования пузырьковой сортировки называется [сортировка расчёской](https://ru.wikipedia.org/wiki/Сортировка_расчёской).

Сложность алгоритма в среднем составляет $O(n \cdot log^2(n))$.

Невзирая на то, что сортировка Шелла во многих случаях медленнее, чем быстрая сортировка, она имеет ряд преимуществ:

* отсутствие потребности в памяти под стек;
* отсутствие деградации при неудачных наборах данных — быстрая сортировка легко деградирует до $O(n^2)$, что хуже, чем худшее гарантированное время для сортировки Шелла.

# реализация на с++

```cpp
template <typename Type>
void shell_sort(Type* array, size_t size) {
    for(size_t distance = size/2; distance > 0; distance /= 2) {
        for(size_t i = distance; i < size; ++i) {
            for(size_t j = i - distance; array[j] > array[j + distance]; j -= distance) {
                Type temp = array[j];
                array[j] = array[j + distance];
                array[j + distance] = temp;
            }
        }
    }
}
```
